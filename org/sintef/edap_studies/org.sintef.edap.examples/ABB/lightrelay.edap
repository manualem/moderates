

import "light.edap"

component LightRelay
{	
	port lrIn
	port lrOut
	
	message connect();
	message disconnect();
	receives connect
	receives disconnect
	
	statechart LightRelaySM init DisConnected {

		state Connected {
			transition toOff -> DisConnected {
				event LightRelay#disconnect
				action send Light.lightOff() port lrOut
			}
		}
		
		state DisConnected {
			transition toOn -> Connected {
				event LightRelay#connect
				action send Light.lightOn() port lrOut
			}
		}
	}
}